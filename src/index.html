<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Concordance of Paninian Dhatuvrittis</title>

    <link rel="stylesheet" href="index.scss" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <header class="text-center">
      <h1 class="display-1 my-4 fw-bold">
        Concordance of Paninian&nbsp;Dhatuvrittis
      </h1>
    </header>

    <main id="app">
      <section class="container-sm p-0">
        <div class="row g-0 justify-content-center">
          <div class="col-sm-12" style="max-width: 700px">
            <!-- Search & Filter -->
            <form
              id="filter-form"
              class="bg-background align-items-center d-flex sticky-top py-2 px-1"
            >
              <div class="bg-surface flex-fill rounded-1 shadow">
                <div class="input-group rounded-1">
                  <input
                    type="text"
                    name="search"
                    placeholder="Type to filter..."
                    id="search-input"
                    class="bg-transparent border border-0 form-control p-2 shadow-none"
                  />
                  <button
                    type="button"
                    id="clear-search-btn"
                    class="btn btn-secondary bg-transparent border border-0 opacity-25 opacity-100-hover opacity-100-focus shadow-none"
                  >
                    <i class="bi bi-x-lg"></i>
                  </button>
                </div>
              </div>
              <div class="align-items-center d-flex ms-1">
                <div>
                  <label
                    for="sort-select"
                    class="p-1 fw-bold text-uppercase"
                    style="font-size: 0.7em"
                    >Sort&nbsp;by</label
                  >
                </div>
                <div>
                  <select
                    name="sort-select"
                    id="sort-select"
                    class="bg-surface form-select rounded-1"
                  >
                    <option value="gana" selected>गणः</option>
                    <option value="dhatu">धातुः</option>
                    <option value="artha">अर्थः</option>
                  </select>
                </div>
              </div>
            </form>

            <!-- Dhatu List -->
            <div class="px-1 py-2">
              <div
                id="dhatu-list"
                class="bg-surface list-group list-group-flush my-2 rounded-1 shadow"
              ></div>
            </div>

            <!-- Loader -->
            <div id="loader" class="text-center">
              <div class="spinner-border m-2" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Modal -->
      <div
        class="modal fade"
        id="dhatu-details-modal"
        tabindex="-1"
        aria-labelledby="dhatu-details-modal-label"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg">
          <div class="modal-content bg-surface rounded-1">
            <div class="modal-header sticky-top bg-surface rounded-top-1">
              <h1 class="modal-title fs-4" id="dhatu-details-modal-label"></h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body"></div>
          </div>
        </div>
      </div>

      <!-- Scroll-to-top -->
      <button
        id="scroll-to-top"
        class="btn btn-secondary d-flex position-fixed bottom-0 end-0 m-2 p-2 shadow rounded-1"
        style="z-index: var(--zindex-fixed)"
      >
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.5 10.5L12 3M12 3L19.5 10.5M12 3V21"
            stroke="#0F172A"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <!-- src: https://github.com/tailwindlabs/heroicons/blob/master/src/24/outline/arrow-up.svg -->
        </svg>
      </button>
    </main>

    <template id="dhatu-list-item">
      <a
        href="#"
        class="list-group-item list-group-item-action p-1"
        data-slot="item-id"
        data-bs-toggle="modal"
        data-bs-target="#dhatu-details-modal"
      >
        <div
          class="align-items-center d-flex flex-column flex-md-row text-center"
        >
          <div class="p-1 w-100" style="font-size: 1.1rem">
            <span class="fw-bold" data-slot="dhatu">
              ${dhatuDetails.muladhatu} (${dhatuDetails.dhatu})
            </span>
            <span data-slot="meaning">${dhatuDetails.meaning}</span>
          </div>

          <div class="d-flex justify-content-between" style="font-size: 1.1rem">
            <div class="m-2" data-slot="gana">${dhatuDetails.gana}</div>
            <div class="m-2" data-slot="padi">${dhatuDetails.padi}</div>
            <div class="m-2" data-slot="it">${dhatuDetails.it}</div>
          </div>

          <hr class="border-secondary d-block d-md-none m-0 w-75" />

          <div class="d-flex justify-content-evenly ms-2 w-100">
            <div class="m-2">
              <div
                class="vritti-name mb-1 text-on-surface"
                style="font-size: 0.9rem"
              >
                माधवीयधातुवृत्तिः
              </div>
              <div data-slot="madhaviyaId"></div>
            </div>
            <div class="m-2">
              <div
                class="vritti-name mb-1 text-on-surface"
                style="font-size: 0.9rem"
              >
                क्षीरतरङ्गिणी
              </div>
              <div data-slot="kshirataranginiId"></div>
            </div>
            <div class="m-2">
              <div
                class="vritti-name mb-1 text-on-surface"
                style="font-size: 0.9rem"
              >
                धातुप्रदीपः
              </div>
              <div data-slot="dhatupradipaId"></div>
            </div>
          </div>
        </div>
      </a>
    </template>

    <template id="dhatu-all-details">
      <div>
        <section class="container-fluid px-0" style="font-size: 1.1rem">
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">मूलधातुः</span
            ><span class="col" data-slot="muladhatu"></span>
          </div>
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">धातुः</span
            ><span class="col" data-slot="dhatu"></span>
          </div>
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">अर्थः</span
            ><span class="col" data-slot="meaning"></span>
          </div>
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">गणः</span
            ><span class="col" data-slot="gana"></span>
          </div>
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">पदि</span
            ><span class="col" data-slot="padi"></span>
          </div>
          <div class="row py-1">
            <span class="col col-sm-2 fw-bold">इट्</span
            ><span class="col" data-slot="it"></span>
          </div>
        </section>

        <section class="vrittis">
          <h2 class="py-2 my-3 fs-5 fw-bold border-bottom">वृत्तयः</h2>
          <div>
            <div class="accordion" id="vrittis-accordion">
              <div class="accordion-item">
                <h3 class="accordion-header" id="header-1">
                  <button
                    class="accordion-button collapsed fw-bold"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-1"
                    aria-expanded="false"
                    aria-controls="collapse-1"
                  >
                    <span>माधवीयधातुवृत्तिः</span>&nbsp;
                    <span
                      class="badge bg-primary"
                      data-slot="madhaviyaId"
                    ></span>
                  </button>
                </h3>
                <div
                  id="collapse-1"
                  class="accordion-collapse collapse"
                  aria-labelledby="header-1"
                  data-bs-parent="#vrittis-accordion"
                >
                  <div
                    class="accordion-body text-break"
                    style="max-height: 400px; overflow-y: auto"
                    data-slot="madhaviya"
                  >
                    Loading...
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h3 class="accordion-header" id="header-2">
                  <button
                    class="accordion-button collapsed fw-bold"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-2"
                    aria-expanded="false"
                    aria-controls="collapse-2"
                  >
                    <span>क्षीरतरङ्गिणी</span>&nbsp;
                    <span
                      class="badge bg-primary"
                      data-slot="kshirataranginiId"
                    ></span>
                  </button>
                </h3>
                <div
                  id="collapse-2"
                  class="accordion-collapse collapse"
                  aria-labelledby="header-2"
                  data-bs-parent="#vrittis-accordion"
                >
                  <div
                    class="accordion-body text-break"
                    style="max-height: 400px; overflow-y: auto"
                    data-slot="kshiratarangini"
                  >
                    Loading...
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h3 class="accordion-header" id="header-3">
                  <button
                    class="accordion-button collapsed fw-bold"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapse-3"
                    aria-expanded="false"
                    aria-controls="collapse-3"
                  >
                    <span>धातुप्रदीपः</span>&nbsp;
                    <span
                      class="badge bg-primary"
                      data-slot="dhatupradipaId"
                    ></span>
                  </button>
                </h3>
                <div
                  id="collapse-3"
                  class="accordion-collapse collapse"
                  aria-labelledby="header-3"
                  data-bs-parent="#vrittis-accordion"
                >
                  <div
                    class="accordion-body text-break"
                    style="max-height: 400px; overflow-y: auto"
                    data-slot="dhatupradipa"
                  >
                    Loading...
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section class="forms">
          <h2 class="py-2 my-3 fs-5 fw-bold border-bottom">रूपाणि</h2>
          <div class="text-center" data-slot="forms">
            <a
              class="btn btn-outline-primary rounded-1"
              href="#"
              target="_blank"
              data-slot="formsLink"
              >Show forms</a
            >
          </div>
        </section>

        <section class="graph">
          <h2 class="py-2 my-3 fs-5 fw-bold border-bottom">चित्रम्</h2>
          <div class="text-center" data-slot="graph">
            <div class="border border-secondary rounded-1">
              <div style="max-height: 500px">
                <img
                  src="#"
                  alt="Graph"
                  loading="lazy"
                  data-slot="graphImg"
                  class="w-auto mw-100 p-2"
                  style="max-height: inherit"
                />
              </div>
              <a
                class="btn btn-outline-primary rounded-1 m-2"
                href="#"
                target="_blank"
                data-slot="graphLink"
                >Show full size</a
              >
            </div>
          </div>
        </section>
      </div>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/@indic-transliteration/sanscript@1.2/sanscript.min.js"></script>
    <script src="index.js" type="module"></script>
  </body>
</html>
